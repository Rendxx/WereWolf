{"version":3,"sources":["script.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"controller.info.js","sourcesContent":["window.Rendxx = window.Rendxx || {};\r\nwindow.Rendxx.Game = window.Rendxx.Game || {};\r\nwindow.Rendxx.Game.Client = window.Rendxx.Game.Client || {};\r\nwindow.Rendxx.Game.Client.Controller = window.Rendxx.Game.Client.Controller || {};\r\n\r\n/*\r\n * Controller.Info\r\n * This is a control handler for mobile. \r\n * A panel will cover whole screen.\r\n * Support only 1 touch point\r\n * \r\n * 1 callback:\r\n * onTap()\r\n */\r\n\r\n(function (Controller) {\r\n    var HTML = {\r\n        wrap: '<div class=\"controller-info\"></div>'\r\n    };\r\n\r\n    var CssClass = {\r\n        hide: '_hide'\r\n    };\r\n\r\n    var Env = {\r\n    };\r\n\r\n    var Info = function (opts) {\r\n        // private property ---------------------------------------------\r\n        var that = this,\r\n            // parameters\r\n            _css = null,\r\n            // html\r\n            html_container = null,\r\n            html_wrap = null,\r\n            // data\r\n            content = null,\r\n            // cache\r\n            hideFunc = null;\r\n\r\n        // callback ---------------------------------------------\r\n        this.onTap = null;\r\n\r\n        // public function ---------------------------------------------\r\n        this.show = function (opts) {\r\n            if (opts != null) _setOpts(opts);\r\n            if (hideFunc != null) {\r\n                clearTimeout(hideFunc);\r\n                hideFunc = null;\r\n            }\r\n            html_wrap.html(content);\r\n            html_wrap.show();\r\n            html_wrap.removeClass(CssClass.hide);\r\n        };\r\n\r\n        this.hide = function () {\r\n            html_wrap.addClass(CssClass.hide);            \r\n            hideFunc = setTimeout(300, function () { html_wrap.hide(); hideFunc = null; });\r\n        };\r\n\r\n        this.resize = function () {\r\n            // data\r\n\r\n            // css\r\n            html_wrap.css(_css);\r\n        };\r\n\r\n        // setup ---------------------------------------------\r\n        var _setupFunc = function () {\r\n            html_wrap[0].addEventListener('touchend', function (event) {\r\n                event.preventDefault();\r\n                if (that.onTap) that.onTap();\r\n            }, false);\r\n        };\r\n\r\n        var _setupHtml = function () {\r\n            // html\r\n            html_wrap = $(HTML.wrap).appendTo(html_container);\r\n            that.resize();\r\n        };\r\n\r\n        var _setOpts = function (opts) {\r\n            if (opts.css) _css = opts.css;\r\n            if (opts.content) content = opts.content;\r\n        };\r\n\r\n        var _init = function (opts) {\r\n            if (opts == null) throw new Error(\"Option can not be empty\");\r\n            html_container = opts.container;\r\n            _setOpts(opts);\r\n            _setupHtml();\r\n            _setupFunc();\r\n            that.hide();\r\n        };\r\n        _init(opts);\r\n    };\r\n    Controller.Info = Info;\r\n    Controller.Info.Env = Env;\r\n})(window.Rendxx.Game.Client.Controller);"],"sourceRoot":"/source/"}